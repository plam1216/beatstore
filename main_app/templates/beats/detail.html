{% extends 'base.html' %}
{% block content %}
<h1>Beats Detail</h1>
<div class="row">
    <div class="col s6">
        <p> Name: {{ beat.name }} </p>
        <p> Genre: {{ beat.genre }} </p>
        <p> Audio: {{ beat.audio }} </p>

        <audio controls>
            <source src='{{ beat.audio }}' type="audio/mp3">
        </audio>
        <div class="card-action">
            <a href="{% url 'beats_update' beat.id %}">Edit</a>
            <a href="{% url 'beats_delete' beat.id %}">Delete</a>
        </div>
    </div>

    <div class="col s6">
        {% for audio in beat.audio_set.all %}
        <audio controls>
            <source src="{{ audio.url }} " type="audio/mp3">
        </audio>
        {% empty %}
        <div class="card-panel teal-text center-align">No Audio Uploaded</div>
        {% endfor %}
    </div>

    <form action="{% url 'add_audio' beat.id %}" enctype="multipart/form-data" method="POST" class="card-panel">
        {% csrf_token %}
        <input type="file" name="audio-file" />
        <br /><br />
        <input type="submit" class="btn" value="Upload Audio" />
    </form>
</div>
{% endblock %}