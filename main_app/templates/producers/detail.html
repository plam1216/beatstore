{% extends 'base.html' %}
{% block content %}
<div class="container">
    <h3>
        {{ producer.name }}
    </h3>
    <div>
        <div class="row">
            <div class="col s4 beat-index-titles">
                IG
            </div>
            <div class="col s2 beat-index-titles">
                Twitter
            </div>
            <div class="col s2 beat-index-titles">
                TikTok
            </div>
        </div>
        <div class="row">
            <div class="col s4">
                <p class="tracklist track">{{ producer.IG }}</p>
            </div>
            <div class="col s2">
                <p class="tracklist track">{{ producer.twitter }}</p>
            </div>
            <div class="col s2">
                <p class="tracklist track">{{ producer.tiktok }}</p>
            </div>
            {% if user.is_authenticated %}
            <div class="col s2">
                <a href="{% url 'producers_update' producer.id %}" style="margin-right: 10px">
                    <input class="btn" type="submit" value="Edit">
                </a>
            </div>
            <div class="col s2">
                <a href="{% url 'producers_delete' producer.id %}">
                    <input class="btn" type="submit" value="Delete">
                </a>
            </div>
            {% endif %}
        </div>
        <div class="col s6 divider"></div>

        <br />

        <h4>Credits</h4>
        <div class="row">
            <div class="row">
                <div class="col s6 offset-s1 beat-index-titles">
                    Title
                </div>
                <div class="col s2 beat-index-titles">
                    Genre
                </div>
                <div class="col s1 beat-index-titles">
                    BPM
                </div>
                <div class="col s2 beat-index-titles">
                    Key
                </div>
            </div>
    
            <!-- 'producer_beats' is passed down from 'producer_beats' function in '/main_app.views' -->
            {% for beat in producer_beats %}
            <div>
                <a href="{% url 'beats_detail' beat.id %}">
                    <div class="row">
                        <div class="col s1">
                            <img src="{{ awsurl }}/{{ beat.image }}" alt="{{ beat.name }}" class="coverart coverart-index" />
                        </div>
                        <div class="col s6">
                            <p class="tracklist track">{{ beat.name }}</p>
                        </div>
                        <div class="col s2">
                            <p class="tracklist track">{{ beat.genre }}</p>
                        </div>
                        <div class="col s1">
                            <p class="tracklist track">{{ beat.bpm }}</p>
                        </div>
                        <div class="col s2">
                            <p class="tracklist track">{{ beat.key }}</p>
                        </div>
                </a>
                <div class="col s11 offset-s1 divider"></div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}